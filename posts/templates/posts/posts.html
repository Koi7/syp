{% extends "posts/base.html" %}
{% load static from staticfiles %}
{% block extra_links %}
	<link rel="stylesheet" type="text/css" href="{% static 'posts/styles/dist/forms.min.css' %}">
{% endblock %}
{% block title %} Посты {% endblock %}
{% block content %}
<!-- PAGE HEADER -->
<h1 class="w3-padding-tiny w3-text-awesome w3-center">Посты</h1>
<!-- FILTERS -->
{% include "posts/filter_panel.html" %}	
<!-- POST LIST CONTAINER -->
<div id="post-list-container">		
	<!-- POST LIST -->
	{% if posts_list %}
	{% include 'posts/post_list.html' %}
	{% else %}
	{% include 'posts/no_results.html' with message="Нет постов пока." %}
	{% endif %}
	<!-- END POST LIST -->
</div>
{% endblock %}
{% block extra_scripts %}
<script>
	function openDialog() {
		var postID = $(this).data('post-id');
		var dialog = $('div.modal[data-post-id=' + postID + ']');
		dialog.find('span').click(function () {
			$(this).parent().css('display', 'none');
		});
		dialog.find('img').attr('src', $(this).attr('src'));
		dialog.css('display', 'block');
	}

	$(document).on('click', 'img.post-image', openDialog);

	var loadMoreUrl = "{% url 'posts_filter' %}";
	var likeUrl = "{% url 'like_post' %}";
	var leaveMessageUrl = "{% url 'leave_message' %}";
	var filterState = getFilterState();


</script>
<script type="text/javascript" src="{% static 'posts/js/post_manipulations.js' %}"></script>
{% endblock %}